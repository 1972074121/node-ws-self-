const _0x1ea8af=_0x1657;(function(_0x5f247a,_0xa4fad0){const _0x3cc693={_0x5b6ed8:0x105,_0x1776af:0x121,_0x461036:0x144,_0x258815:0xe1,_0x130fd4:0xd4,_0x5319f2:0x14d},_0x4cf679=_0x1657,_0x11143e=_0x5f247a();while(!![]){try{const _0x1643b4=parseInt(_0x4cf679(0xc1))/0x1+parseInt(_0x4cf679(0x148))/0x2*(parseInt(_0x4cf679(0x102))/0x3)+parseInt(_0x4cf679(_0x3cc693._0x5b6ed8))/0x4+-parseInt(_0x4cf679(_0x3cc693._0x1776af))/0x5+parseInt(_0x4cf679(_0x3cc693._0x461036))/0x6+-parseInt(_0x4cf679(_0x3cc693._0x258815))/0x7*(parseInt(_0x4cf679(0x12e))/0x8)+parseInt(_0x4cf679(_0x3cc693._0x130fd4))/0x9*(-parseInt(_0x4cf679(_0x3cc693._0x5319f2))/0xa);if(_0x1643b4===_0xa4fad0)break;else _0x11143e['push'](_0x11143e['shift']());}catch(_0xc7325f){_0x11143e['push'](_0x11143e['shift']());}}}(_0x7729,0xb28af));const os=require('os'),http=require(_0x1ea8af(0x11a)),fs=require('fs'),axios=require(_0x1ea8af(0x11f)),net=require(_0x1ea8af(0x138)),path=require('path'),crypto=require('crypto'),{Buffer}=require(_0x1ea8af(0xf9)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x1ea8af(0xca)]||'550e8400-e29b-41d4-a716-446655440000',NEZHA_SERVER=process[_0x1ea8af(0x111)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x1ea8af(0x111)][_0x1ea8af(0xf8)]||'',NEZHA_KEY=process[_0x1ea8af(0x111)][_0x1ea8af(0x127)]||'',DOMAIN=process[_0x1ea8af(0x111)][_0x1ea8af(0xd2)]||'1234.abc.com',AUTO_ACCESS=process[_0x1ea8af(0x111)]['AUTO_ACCESS']||![],WSPATH=process['env'][_0x1ea8af(0x101)]||UUID[_0x1ea8af(0xf0)](0x0,0x8),SUB_PATH=process[_0x1ea8af(0x111)]['SUB_PATH']||'sub',NAME=process['env'][_0x1ea8af(0x109)]||_0x1ea8af(0xf1),PORT=process[_0x1ea8af(0x111)][_0x1ea8af(0xfc)]||0x1eb5;function _0x7729(){const _0x33e374=['replace','sni%3D','trim','text/html','\x20-p\x20','arm64','speedcheck.org','send','url','Server','base64','7201859BFdZWT',';skip-cert-verify%3Dtrue;mux%3D0#','finish','&path=%2F','testmy.net','https://amd64.ssss.nyc.mn/agent','tls;','speedof.me','vless://','trojan://','chmod\x20+x\x20npm','update','none:','2087','unlink','slice','mila','application/dns-json','https://dns.google/resolve?name=','cahnge-your-domain.com','?encryption=none&security=','toLowerCase','Hello\x20world!','NEZHA_PORT','buffer','readUInt16BE','https://amd64.ssss.nyc.mn/v1','PORT','map','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','application/json','listen','WSPATH','3jPSlbu','isp','npm\x20is\x20already\x20running,\x20skip\x20running...','4040348RGWRyk','--tls','http://ip-api.com/json','find','NAME','toString','\x20with\x20all\x20DNS\x20servers','pipe','stream','end','tls','includes','env','text/plain','?security=','log','substr','write','8443','speed.cloudflare.com','country_code','http','writeHead','message','Answer','post','axios','decode','4859975lwHNRO','get','8.8.4.4','every','ss://','concat','NEZHA_KEY','https://','utf-8','npm\x20is\x20running','error','setsid\x20nohup\x20./npm\x20-s\x20','split','8BvaMuF','client_secret:\x20','npm\x20running\x20error:','Server\x20is\x20running\x20on\x20port\x20','config.yaml','index.html','readUInt8','sha224','reduce','Mozilla/5.0','net','aarch64','hex','443','connection','2096','from','bandwidth.place','catch','Automatic\x20Access\x20Task\x20added\x20successfully','fast.com','arm','4386408jgHqQR','npm',';path%3D%2F','pop','2014642hhyCzS','createWriteStream','none','data','countryCode','624070gfkqvT','join','false','type','npm\x20download\x20successfully','connect','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','&sni=','utf8','170888YWpGLX','speedtest.net','close','length','https://api-ipv4.ip.sb/ip','speedtest.cn','/bin/bash','Status','startsWith','UUID','then','readFile','once','true','1.1.1.1','Not\x20Found\x0a','writeFileSync','DOMAIN','error:\x20','27CybJyj','&fp=chrome&type=ws&host='];_0x7729=function(){return _0x33e374;};return _0x7729();}function _0x1657(_0xe709fd,_0x304afb){const _0x772928=_0x7729();return _0x1657=function(_0x16571c,_0x5a2f99){_0x16571c=_0x16571c-0xbf;let _0x314ba8=_0x772928[_0x16571c];return _0x314ba8;},_0x1657(_0xe709fd,_0x304afb);}let uuid=UUID[_0x1ea8af(0xd6)](/-/g,''),CurrentDomain=DOMAIN,Tls=_0x1ea8af(0x10f),CurrentPort=0x1bb,ISP='';const DNS_SERVERS=[_0x1ea8af(0x123),_0x1ea8af(0xcf)],BLOCKED_DOMAINS=[_0x1ea8af(0xc2),_0x1ea8af(0x142),_0x1ea8af(0xc6),_0x1ea8af(0x118),_0x1ea8af(0xe8),_0x1ea8af(0xe5),_0x1ea8af(0x13f),'speed.io','librespeed.org',_0x1ea8af(0xdc)];function isBlockedDomain(_0xbcfdc6){const _0x70b8d8={_0x3638df:0xf6},_0x4899ac=_0x1ea8af;if(!_0xbcfdc6)return![];const _0x4bb50e=_0xbcfdc6[_0x4899ac(_0x70b8d8._0x3638df)]();return BLOCKED_DOMAINS['some'](_0x3146f3=>{return _0x4bb50e===_0x3146f3||_0x4bb50e['endsWith']('.'+_0x3146f3);});}async function getisp(){const _0x248e20={_0x4dd64c:0x103,_0x24a73b:0x107,_0x390f76:0x14b,_0x15755a:0x14c,_0x2fb6c2:0xd6},_0x5d6711=_0x1ea8af;try{const _0x44454d=await axios[_0x5d6711(0x122)]('https://api.ip.sb/geoip',{'headers':{'User-Agent':_0x5d6711(0x137),'timeout':0xbb8}}),_0x42059e=_0x44454d[_0x5d6711(0x14b)];ISP=(_0x42059e[_0x5d6711(0x119)]+'-'+_0x42059e[_0x5d6711(_0x248e20._0x4dd64c)])[_0x5d6711(0xd6)](/ /g,'_');}catch(_0x35ce42){try{const _0x37621f=await axios['get'](_0x5d6711(_0x248e20._0x24a73b),{'headers':{'User-Agent':_0x5d6711(0x137),'timeout':0xbb8}}),_0x3d0244=_0x37621f[_0x5d6711(_0x248e20._0x390f76)];ISP=(_0x3d0244[_0x5d6711(_0x248e20._0x15755a)]+'-'+_0x3d0244['org'])[_0x5d6711(_0x248e20._0x2fb6c2)](/ /g,'_');}catch(_0x3fbe4a){ISP='Unknown';}}}async function getip(){const _0x4a0280={_0x290c88:0x14b,_0x34533b:0x14a,_0x4d7039:0x12b,_0x2748cc:0xf4},_0x573094=_0x1ea8af;if(!DOMAIN||DOMAIN==='your-domain.com')try{const _0x3329a6=await axios[_0x573094(0x122)](_0x573094(0xc5),{'timeout':0x1388}),_0x1c2545=_0x3329a6[_0x573094(_0x4a0280._0x290c88)][_0x573094(0xd8)]();CurrentDomain=_0x1c2545,Tls=_0x573094(_0x4a0280._0x34533b),CurrentPort=PORT;}catch(_0x543cf1){console[_0x573094(_0x4a0280._0x4d7039)]('Failed\x20to\x20get\x20IP',_0x543cf1['message']),(CurrentDomain=_0x573094(_0x4a0280._0x2748cc),Tls='tls',CurrentPort=0x1bb);}else CurrentDomain=DOMAIN,Tls='tls',CurrentPort=0x1bb;}const httpServer=http['createServer'](async(_0x4803e8,_0x24c205)=>{const _0x5ddf85={_0x3e9b58:0x133,_0x4288ab:0x10f,_0x2af769:0xe9,_0x5f4999:0xbf,_0x493b2b:0xe4,_0x1823a4:0xd5,_0x122809:0x13e,_0x192645:0x146,_0x5970ae:0x10a,_0x30cb09:0x11b,_0x584b19:0x112},_0x46c27a={_0xd6ebc:0xd9,_0x3c6612:0xf7},_0x2f4ea6=_0x1ea8af;if(_0x4803e8['url']==='/'){const _0x4fafd3=path[_0x2f4ea6(0x14e)](__dirname,_0x2f4ea6(_0x5ddf85._0x3e9b58));fs[_0x2f4ea6(0xcc)](_0x4fafd3,_0x2f4ea6(0xc0),(_0x30fe09,_0x4165f2)=>{const _0x2e462d=_0x2f4ea6;if(_0x30fe09){_0x24c205['writeHead'](0xc8,{'Content-Type':_0x2e462d(_0x46c27a._0xd6ebc)}),_0x24c205[_0x2e462d(0x10e)](_0x2e462d(_0x46c27a._0x3c6612));return;}_0x24c205[_0x2e462d(0x11b)](0xc8,{'Content-Type':'text/html'}),_0x24c205['end'](_0x4165f2);});return;}else{if(_0x4803e8[_0x2f4ea6(0xde)]==='/'+SUB_PATH){await getisp(),await getip();const _0x3084da=NAME?NAME+'-'+ISP:ISP,_0x156562=Tls===_0x2f4ea6(0x10f)?_0x2f4ea6(0x10f):'none',_0x5e59b3=Tls===_0x2f4ea6(_0x5ddf85._0x4288ab)?_0x2f4ea6(0xe7):'',_0x315d3e=_0x2f4ea6(_0x5ddf85._0x2af769)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x2f4ea6(0xf5)+_0x156562+_0x2f4ea6(_0x5ddf85._0x5f4999)+CurrentDomain+'&fp=chrome&type=ws&host='+CurrentDomain+_0x2f4ea6(_0x5ddf85._0x493b2b)+WSPATH+'#'+_0x3084da,_0x5a2caf=_0x2f4ea6(0xea)+UUID+'@'+CurrentDomain+':'+CurrentPort+_0x2f4ea6(0x113)+_0x156562+_0x2f4ea6(0xbf)+CurrentDomain+_0x2f4ea6(_0x5ddf85._0x1823a4)+CurrentDomain+'&path=%2F'+WSPATH+'#'+_0x3084da,_0x108e99=Buffer[_0x2f4ea6(_0x5ddf85._0x122809)](_0x2f4ea6(0xed)+UUID)[_0x2f4ea6(0x10a)](_0x2f4ea6(0xe0)),_0x6dbd8=_0x2f4ea6(0x125)+_0x108e99+'@'+CurrentDomain+':'+CurrentPort+'?plugin=v2ray-plugin;mode%3Dwebsocket;host%3D'+CurrentDomain+_0x2f4ea6(_0x5ddf85._0x192645)+WSPATH+';'+_0x5e59b3+_0x2f4ea6(0xd7)+CurrentDomain+_0x2f4ea6(0xe2)+_0x3084da,_0x2bcf54=_0x315d3e+'\x0a'+_0x5a2caf+'\x0a'+_0x6dbd8,_0x9f67d5=Buffer['from'](_0x2bcf54)[_0x2f4ea6(_0x5ddf85._0x5970ae)]('base64');_0x24c205[_0x2f4ea6(_0x5ddf85._0x30cb09)](0xc8,{'Content-Type':_0x2f4ea6(_0x5ddf85._0x584b19)}),_0x24c205[_0x2f4ea6(0x10e)](_0x9f67d5+'\x0a');}else _0x24c205[_0x2f4ea6(_0x5ddf85._0x30cb09)](0x194,{'Content-Type':_0x2f4ea6(0x112)}),_0x24c205['end'](_0x2f4ea6(0xd0));}});function resolveHost(_0x5733ad){const _0x25c8be={_0x27da10:0x10b,_0x253bf6:0x122,_0x4746c1:0xcb};return new Promise((_0x2a5242,_0x2f8049)=>{const _0x2a1aa7={_0x4d09f7:0xc8,_0x4bdb52:0x11d,_0x84d8ab:0xc4};if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x5733ad)){_0x2a5242(_0x5733ad);return;}let _0x133dd9=0x0;function _0x29e4f1(){const _0x29c8c3=_0x1657;if(_0x133dd9>=DNS_SERVERS['length']){_0x2f8049(new Error('Failed\x20to\x20resolve\x20'+_0x5733ad+_0x29c8c3(_0x25c8be._0x27da10)));return;}const _0x1f67da=DNS_SERVERS[_0x133dd9];_0x133dd9++;const _0x2561a6=_0x29c8c3(0xf3)+encodeURIComponent(_0x5733ad)+'&type=A';axios[_0x29c8c3(_0x25c8be._0x253bf6)](_0x2561a6,{'timeout':0x1388,'headers':{'Accept':_0x29c8c3(0xf2)}})[_0x29c8c3(_0x25c8be._0x4746c1)](_0x3832ec=>{const _0x3185c6=_0x29c8c3,_0xdf2d06=_0x3832ec[_0x3185c6(0x14b)];if(_0xdf2d06[_0x3185c6(_0x2a1aa7._0x4d09f7)]===0x0&&_0xdf2d06['Answer']&&_0xdf2d06[_0x3185c6(_0x2a1aa7._0x4bdb52)][_0x3185c6(_0x2a1aa7._0x84d8ab)]>0x0){const _0x22cb19=_0xdf2d06['Answer'][_0x3185c6(0x108)](_0x42f034=>_0x42f034[_0x3185c6(0x150)]===0x1);if(_0x22cb19){_0x2a5242(_0x22cb19['data']);return;}}_0x29e4f1();})['catch'](_0x58f909=>{_0x29e4f1();});}_0x29e4f1();});}function handleVlsConnection(_0x5213b5,_0x2a6eba){const _0x4b3306={_0x19803f:0xf0,_0x1dd560:0x124,_0x39fe91:0xfa,_0x493fc9:0x134,_0x29507c:0xf0,_0x33a1e0:0x120,_0x15306f:0xfd,_0x389bf1:0xc3,_0x4a0807:0xdd},_0x490410={_0x3fffeb:0x152,_0x2707a8:0x12b},_0x163daf={_0x46c9fb:0x116,_0x5558aa:0x12b,_0x4bbacd:0x10c},_0x2a594a={_0x263287:0x152},_0x2d4bbd={_0x13c508:0xf0},_0x350c67=_0x1ea8af,[_0x35c1af]=_0x2a6eba,_0x2b0621=_0x2a6eba[_0x350c67(_0x4b3306._0x19803f)](0x1,0x11);if(!_0x2b0621[_0x350c67(_0x4b3306._0x1dd560)]((_0x1c4773,_0x2e889d)=>_0x1c4773==parseInt(uuid[_0x350c67(0x115)](_0x2e889d*0x2,0x2),0x10)))return![];let _0x48729f=_0x2a6eba[_0x350c67(0xf0)](0x11,0x12)[_0x350c67(0x134)]()+0x13;const _0x58c617=_0x2a6eba[_0x350c67(_0x4b3306._0x19803f)](_0x48729f,_0x48729f+=0x2)[_0x350c67(_0x4b3306._0x39fe91)](0x0),_0x1a8de8=_0x2a6eba[_0x350c67(_0x4b3306._0x19803f)](_0x48729f,_0x48729f+=0x1)[_0x350c67(_0x4b3306._0x493fc9)](),_0x371019=_0x1a8de8==0x1?_0x2a6eba[_0x350c67(_0x4b3306._0x29507c)](_0x48729f,_0x48729f+=0x4)[_0x350c67(0x14e)]('.'):_0x1a8de8==0x2?new TextDecoder()[_0x350c67(_0x4b3306._0x33a1e0)](_0x2a6eba[_0x350c67(0xf0)](_0x48729f+0x1,_0x48729f+=0x1+_0x2a6eba[_0x350c67(0xf0)](_0x48729f,_0x48729f+0x1)['readUInt8']())):_0x1a8de8==0x3?_0x2a6eba[_0x350c67(0xf0)](_0x48729f,_0x48729f+=0x10)[_0x350c67(0x136)]((_0x1d91f,_0x1d4793,_0x1c1317,_0x18972d)=>_0x1c1317%0x2?_0x1d91f[_0x350c67(0x126)](_0x18972d[_0x350c67(0xf0)](_0x1c1317-0x1,_0x1c1317+0x1)):_0x1d91f,[])[_0x350c67(_0x4b3306._0x15306f)](_0x3d7718=>_0x3d7718[_0x350c67(0xfa)](0x0)[_0x350c67(0x10a)](0x10))[_0x350c67(0x14e)](':'):'';if(isBlockedDomain(_0x371019))return _0x5213b5[_0x350c67(_0x4b3306._0x389bf1)](),![];_0x5213b5[_0x350c67(_0x4b3306._0x4a0807)](new Uint8Array([_0x35c1af,0x0]));const _0x586b64=createWebSocketStream(_0x5213b5);return resolveHost(_0x371019)[_0x350c67(0xcb)](_0x550058=>{const _0xa20fe9=_0x350c67;net[_0xa20fe9(_0x2a594a._0x263287)]({'host':_0x550058,'port':_0x58c617},function(){const _0x379133=_0xa20fe9;this[_0x379133(0x116)](_0x2a6eba[_0x379133(_0x2d4bbd._0x13c508)](_0x48729f)),_0x586b64['on']('error',()=>{})[_0x379133(0x10c)](this)['on'](_0x379133(0x12b),()=>{})['pipe'](_0x586b64);})['on']('error',()=>{});})[_0x350c67(0x140)](_0x53fb0f=>{const _0x54fd8e=_0x350c67;net[_0x54fd8e(_0x490410._0x3fffeb)]({'host':_0x371019,'port':_0x58c617},function(){const _0x24c70c=_0x54fd8e;this[_0x24c70c(_0x163daf._0x46c9fb)](_0x2a6eba[_0x24c70c(0xf0)](_0x48729f)),_0x586b64['on'](_0x24c70c(_0x163daf._0x5558aa),()=>{})[_0x24c70c(0x10c)](this)['on'](_0x24c70c(0x12b),()=>{})[_0x24c70c(_0x163daf._0x4bbacd)](_0x586b64);})['on'](_0x54fd8e(_0x490410._0x2707a8),()=>{});}),!![];}function handleTrojConnection(_0x5de58f,_0x26d7e2){const _0x106c36={_0x56db15:0xc4,_0x1fcb88:0x10a,_0x39e5dc:0x135,_0x291ad:0x13a,_0x15ff32:0xf0,_0x4ab518:0x136},_0x20fc06={_0x4cfbff:0xf0,_0x5ba04a:0x10c},_0x412c23={_0xff4eec:0x10c,_0x3fff88:0x10c},_0x7ed2ac=_0x1ea8af;try{if(_0x26d7e2[_0x7ed2ac(_0x106c36._0x56db15)]<0x3a)return![];const _0x59d22e=_0x26d7e2[_0x7ed2ac(0xf0)](0x0,0x38)[_0x7ed2ac(_0x106c36._0x1fcb88)](),_0x51f95b=[UUID];let _0x599870=null;for(const _0x51b9a3 of _0x51f95b){const _0x16b56a=crypto['createHash'](_0x7ed2ac(_0x106c36._0x39e5dc))[_0x7ed2ac(0xec)](_0x51b9a3)['digest'](_0x7ed2ac(_0x106c36._0x291ad));if(_0x16b56a===_0x59d22e){_0x599870=_0x51b9a3;break;}}if(!_0x599870)return![];let _0x438449=0x38;_0x26d7e2[_0x438449]===0xd&&_0x26d7e2[_0x438449+0x1]===0xa&&(_0x438449+=0x2);const _0x249f95=_0x26d7e2[_0x438449];if(_0x249f95!==0x1)return![];_0x438449+=0x1;const _0x1ce33a=_0x26d7e2[_0x438449];_0x438449+=0x1;let _0x5c9e82,_0x4d1a99;if(_0x1ce33a===0x1)_0x5c9e82=_0x26d7e2[_0x7ed2ac(_0x106c36._0x15ff32)](_0x438449,_0x438449+0x4)[_0x7ed2ac(0x14e)]('.'),_0x438449+=0x4;else{if(_0x1ce33a===0x3){const _0x278831=_0x26d7e2[_0x438449];_0x438449+=0x1,_0x5c9e82=_0x26d7e2['slice'](_0x438449,_0x438449+_0x278831)[_0x7ed2ac(_0x106c36._0x1fcb88)](),_0x438449+=_0x278831;}else{if(_0x1ce33a===0x4)_0x5c9e82=_0x26d7e2['slice'](_0x438449,_0x438449+0x10)[_0x7ed2ac(_0x106c36._0x4ab518)]((_0x43dd57,_0x4739b2,_0x590b63,_0x5780eb)=>_0x590b63%0x2?_0x43dd57['concat'](_0x5780eb[_0x7ed2ac(0xf0)](_0x590b63-0x1,_0x590b63+0x1)):_0x43dd57,[])[_0x7ed2ac(0xfd)](_0x26bf9a=>_0x26bf9a[_0x7ed2ac(0xfa)](0x0)['toString'](0x10))['join'](':'),_0x438449+=0x10;else return![];}}_0x4d1a99=_0x26d7e2[_0x7ed2ac(0xfa)](_0x438449),_0x438449+=0x2;_0x438449<_0x26d7e2['length']&&_0x26d7e2[_0x438449]===0xd&&_0x26d7e2[_0x438449+0x1]===0xa&&(_0x438449+=0x2);if(isBlockedDomain(_0x5c9e82))return _0x5de58f[_0x7ed2ac(0xc3)](),![];const _0x52e8b3=createWebSocketStream(_0x5de58f);return resolveHost(_0x5c9e82)[_0x7ed2ac(0xcb)](_0x55ac65=>{const _0x539cfa=_0x7ed2ac;net[_0x539cfa(0x152)]({'host':_0x55ac65,'port':_0x4d1a99},function(){const _0x3230a4=_0x539cfa;_0x438449<_0x26d7e2[_0x3230a4(0xc4)]&&this[_0x3230a4(0x116)](_0x26d7e2[_0x3230a4(0xf0)](_0x438449)),_0x52e8b3['on'](_0x3230a4(0x12b),()=>{})[_0x3230a4(_0x412c23._0xff4eec)](this)['on'](_0x3230a4(0x12b),()=>{})[_0x3230a4(_0x412c23._0x3fff88)](_0x52e8b3);})['on'](_0x539cfa(0x12b),()=>{});})['catch'](_0x580280=>{const _0x589b6f=_0x7ed2ac;net[_0x589b6f(0x152)]({'host':_0x5c9e82,'port':_0x4d1a99},function(){const _0x135f6c=_0x589b6f;_0x438449<_0x26d7e2[_0x135f6c(0xc4)]&&this[_0x135f6c(0x116)](_0x26d7e2[_0x135f6c(_0x20fc06._0x4cfbff)](_0x438449)),_0x52e8b3['on'](_0x135f6c(0x12b),()=>{})['pipe'](this)['on'](_0x135f6c(0x12b),()=>{})[_0x135f6c(_0x20fc06._0x5ba04a)](_0x52e8b3);})['on'](_0x589b6f(0x12b),()=>{});}),!![];}catch(_0x29916b){return![];}}function handleSsConnection(_0x546ca3,_0x5c3d8b){const _0x2870b8={_0x31444c:0xf0,_0x4a5a79:0xfd,_0x374b92:0x14e,_0x52a0dc:0xcb},_0x30e640={_0x34e7cc:0x152},_0x4cabb5={_0x35cce3:0xc4},_0x40ca5e={_0x353b9d:0x152,_0x2cf450:0x12b},_0x4022ab=_0x1ea8af;try{let _0x730c06=0x0;const _0x340a70=_0x5c3d8b[_0x730c06];_0x730c06+=0x1;let _0x2fe19b,_0x577848;if(_0x340a70===0x1)_0x2fe19b=_0x5c3d8b[_0x4022ab(_0x2870b8._0x31444c)](_0x730c06,_0x730c06+0x4)[_0x4022ab(0x14e)]('.'),_0x730c06+=0x4;else{if(_0x340a70===0x3){const _0x1ab583=_0x5c3d8b[_0x730c06];_0x730c06+=0x1,_0x2fe19b=_0x5c3d8b[_0x4022ab(_0x2870b8._0x31444c)](_0x730c06,_0x730c06+_0x1ab583)['toString'](),_0x730c06+=_0x1ab583;}else{if(_0x340a70===0x4)_0x2fe19b=_0x5c3d8b[_0x4022ab(0xf0)](_0x730c06,_0x730c06+0x10)['reduce']((_0x1473d7,_0x431f00,_0x1a0e0a,_0x1266ed)=>_0x1a0e0a%0x2?_0x1473d7[_0x4022ab(0x126)](_0x1266ed[_0x4022ab(0xf0)](_0x1a0e0a-0x1,_0x1a0e0a+0x1)):_0x1473d7,[])[_0x4022ab(_0x2870b8._0x4a5a79)](_0x529042=>_0x529042[_0x4022ab(0xfa)](0x0)[_0x4022ab(0x10a)](0x10))[_0x4022ab(_0x2870b8._0x374b92)](':'),_0x730c06+=0x10;else return![];}}_0x577848=_0x5c3d8b[_0x4022ab(0xfa)](_0x730c06),_0x730c06+=0x2;if(isBlockedDomain(_0x2fe19b))return _0x546ca3[_0x4022ab(0xc3)](),![];const _0x27f5ef=createWebSocketStream(_0x546ca3);return resolveHost(_0x2fe19b)[_0x4022ab(_0x2870b8._0x52a0dc)](_0x21d816=>{const _0xd7ff2a={_0x310cca:0xc4},_0x5152fe=_0x4022ab;net[_0x5152fe(_0x40ca5e._0x353b9d)]({'host':_0x21d816,'port':_0x577848},function(){const _0x589527=_0x5152fe;_0x730c06<_0x5c3d8b[_0x589527(_0xd7ff2a._0x310cca)]&&this[_0x589527(0x116)](_0x5c3d8b[_0x589527(0xf0)](_0x730c06)),_0x27f5ef['on'](_0x589527(0x12b),()=>{})['pipe'](this)['on']('error',()=>{})['pipe'](_0x27f5ef);})['on'](_0x5152fe(_0x40ca5e._0x2cf450),()=>{});})[_0x4022ab(0x140)](_0x20b3e3=>{const _0x450d24=_0x4022ab;net[_0x450d24(_0x30e640._0x34e7cc)]({'host':_0x2fe19b,'port':_0x577848},function(){const _0x15e59a=_0x450d24;_0x730c06<_0x5c3d8b[_0x15e59a(_0x4cabb5._0x35cce3)]&&this[_0x15e59a(0x116)](_0x5c3d8b[_0x15e59a(0xf0)](_0x730c06)),_0x27f5ef['on'](_0x15e59a(0x12b),()=>{})[_0x15e59a(0x10c)](this)['on'](_0x15e59a(0x12b),()=>{})['pipe'](_0x27f5ef);})['on']('error',()=>{});}),!![];}catch(_0x35a857){return![];}}const wss=new WebSocket[(_0x1ea8af(0xdf))]({'server':httpServer});wss['on'](_0x1ea8af(0x13c),(_0x31520a,_0x4282ba)=>{const _0x558997={_0x172937:0xde,_0x54e48c:0xc9,_0x484fb9:0xc3,_0x59e0eb:0xcd},_0x24419f={_0x266393:0xf0,_0x275ba4:0xc4,_0x952f46:0xc3},_0x1e8bd4=_0x1ea8af,_0x419266=_0x4282ba[_0x1e8bd4(_0x558997._0x172937)]||'',_0x5ddfea='/'+WSPATH;if(!_0x419266[_0x1e8bd4(_0x558997._0x54e48c)](_0x5ddfea)){_0x31520a[_0x1e8bd4(_0x558997._0x484fb9)]();return;}_0x31520a[_0x1e8bd4(_0x558997._0x59e0eb)](_0x1e8bd4(0x11c),_0x55b95c=>{const _0x85983=_0x1e8bd4;if(_0x55b95c[_0x85983(0xc4)]>0x11&&_0x55b95c[0x0]===0x0){const _0x57f76d=_0x55b95c[_0x85983(_0x24419f._0x266393)](0x1,0x11),_0x75568b=_0x57f76d['every']((_0x3c82f8,_0x27e259)=>_0x3c82f8==parseInt(uuid[_0x85983(0x115)](_0x27e259*0x2,0x2),0x10));if(_0x75568b){!handleVlsConnection(_0x31520a,_0x55b95c)&&_0x31520a['close']();return;}}if(_0x55b95c['length']>=0x3a){if(handleTrojConnection(_0x31520a,_0x55b95c))return;}if(_0x55b95c[_0x85983(_0x24419f._0x275ba4)]>0x0&&(_0x55b95c[0x0]===0x1||_0x55b95c[0x0]===0x3||_0x55b95c[0x0]===0x4)){if(handleSsConnection(_0x31520a,_0x55b95c))return;}_0x31520a[_0x85983(_0x24419f._0x952f46)]();})['on'](_0x1e8bd4(0x12b),()=>{});});const getDownloadUrl=()=>{const _0x490090={_0x2ca02d:0x143,_0x3abc3a:0x139},_0x1a36b9=_0x1ea8af,_0x19d917=os['arch']();return _0x19d917===_0x1a36b9(_0x490090._0x2ca02d)||_0x19d917===_0x1a36b9(0xdb)||_0x19d917===_0x1a36b9(_0x490090._0x3abc3a)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x1a36b9(0xfb):_0x1a36b9(0xe6);},downloadFile=async()=>{const _0x19984c={_0x1172f2:0x149,_0x5ee946:0x10c},_0x48e5ae={_0xef505f:0xe3},_0x2a66a8={_0x47e99a:0x151,_0x460686:0xeb},_0x2f1fae=_0x1ea8af;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x15880f=getDownloadUrl(),_0x4d5918=await axios({'method':'get','url':_0x15880f,'responseType':_0x2f1fae(0x10d)}),_0x87bc8a=fs[_0x2f1fae(_0x19984c._0x1172f2)](_0x2f1fae(0x145));return _0x4d5918['data'][_0x2f1fae(_0x19984c._0x5ee946)](_0x87bc8a),new Promise((_0x309c5e,_0x336548)=>{const _0x8bcebf=_0x2f1fae;_0x87bc8a['on'](_0x8bcebf(_0x48e5ae._0xef505f),()=>{const _0x543e3c=_0x8bcebf;console['log'](_0x543e3c(_0x2a66a8._0x47e99a)),exec(_0x543e3c(_0x2a66a8._0x460686),_0x31363e=>{if(_0x31363e)_0x336548(_0x31363e);_0x309c5e();});}),_0x87bc8a['on']('error',_0x336548);});}catch(_0x36fae0){throw _0x36fae0;}},runnz=async()=>{const _0x6959d5={_0x25a730:0x129,_0x370b1e:0xd8,_0x18cf64:0x114,_0x1159d4:0x13b,_0x384481:0xee,_0x3a196f:0x110,_0x3a7b0d:0xda,_0x3b87b0:0x153,_0x26c5da:0x12d,_0x527287:0x12f,_0x275ee7:0xfe,_0x5ea0da:0xd1,_0x15650a:0x12b},_0x12675b={_0x3e9e57:0x12b,_0x5828e9:0x130},_0x1ffa79=_0x1ea8af;try{const _0x4c37a2=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x1ffa79(_0x6959d5._0x25a730)});if(_0x4c37a2[_0x1ffa79(_0x6959d5._0x370b1e)]()!==''){console[_0x1ffa79(_0x6959d5._0x18cf64)](_0x1ffa79(0x104));return;}}catch(_0x248d75){}await downloadFile();let _0x9515ab='',_0x1a50bb=[_0x1ffa79(_0x6959d5._0x1159d4),_0x1ffa79(0x117),_0x1ffa79(0x13d),_0x1ffa79(_0x6959d5._0x384481),'2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0xfa903d=_0x1a50bb[_0x1ffa79(_0x6959d5._0x3a196f)](NEZHA_PORT)?_0x1ffa79(0x106):'';_0x9515ab=_0x1ffa79(0x12c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1ffa79(_0x6959d5._0x3a7b0d)+NEZHA_KEY+'\x20'+_0xfa903d+_0x1ffa79(_0x6959d5._0x3b87b0);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x45b16f=NEZHA_SERVER[_0x1ffa79(0x110)](':')?NEZHA_SERVER[_0x1ffa79(_0x6959d5._0x26c5da)](':')[_0x1ffa79(0x147)]():'',_0x3bba46=_0x1a50bb['includes'](_0x45b16f)?_0x1ffa79(0xce):_0x1ffa79(0x14f),_0x11fe88=_0x1ffa79(_0x6959d5._0x527287)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x1ffa79(_0x6959d5._0x275ee7)+_0x3bba46+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1ffa79(_0x6959d5._0x5ea0da)](_0x1ffa79(0x132),_0x11fe88);}_0x9515ab='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else return;}try{exec(_0x9515ab,{'shell':_0x1ffa79(0xc7)},_0x4a8069=>{const _0x5976f6=_0x1ffa79;if(_0x4a8069)console[_0x5976f6(_0x12675b._0x3e9e57)](_0x5976f6(_0x12675b._0x5828e9),_0x4a8069);else console[_0x5976f6(0x114)](_0x5976f6(0x12a));});}catch(_0x2ae3a6){console[_0x1ffa79(_0x6959d5._0x15650a)](_0x1ffa79(0xd3)+_0x2ae3a6);}};async function addAccessTask(){const _0x582049={_0x51453d:0x11e,_0x1ba887:0x114,_0x581c0c:0x141},_0x54e217=_0x1ea8af;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x26bed0=_0x54e217(0x128)+DOMAIN+'/'+SUB_PATH;try{const _0x3bc215=await axios[_0x54e217(_0x582049._0x51453d)]('https://oooo.serv00.net/add-url',{'url':_0x26bed0},{'headers':{'Content-Type':_0x54e217(0xff)}});console[_0x54e217(_0x582049._0x1ba887)](_0x54e217(_0x582049._0x581c0c));}catch(_0x11b559){}}const delFiles=()=>{const _0x1abbb7={_0x2218a9:0x132},_0x406c3c=_0x1ea8af;['npm',_0x406c3c(_0x1abbb7._0x2218a9)]['forEach'](_0x4395e4=>fs[_0x406c3c(0xef)](_0x4395e4,()=>{}));};httpServer[_0x1ea8af(0x100)](PORT,()=>{const _0x393ac0={_0x202c9d:0x114,_0x5b37f1:0x131},_0x55ea98=_0x1ea8af;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x55ea98(_0x393ac0._0x202c9d)](_0x55ea98(_0x393ac0._0x5b37f1)+PORT);});
